# Media Transfer Telegram

## Описание для приложения

Это программа для автоматизированного копирования видео из указанных каналов в ваш Telegram канал. Программа проверяет новые медиафайлы и моментально пересылая их в указанный Telegram канал. Оно использует библиотеки Pyrogram и asyncio для работы с Telegram API и управления асинхронными процессами.

## Как это работает?

Вам не нужно создавать telegram бота, ваш аккаунт и есть UserBot, Чтобы выгружать видео с любого канала телеграм все что вам нужно, это просто в нем состоять.

## Преимущества приложения

- **Вам не нужно искать id каналов**: Приложение самостоятельно проводит поиск каналов в которых сосоит указанный аккаунт и предлагает выбрать из них верный.
- **Гибкость настройки**: Пользователь может легко выбирать каналы и устанавливать параметры через интуитивно понятный интерфейс.
- **Асинхронное выполнение**: Использование asyncio позволяет выполнять несколько задач параллельно, улучшая производительность и снижая задержки.
- **Автоматизация процессов**: Приложение позволяет автоматизировать загрузку и выгрузку видео в Telegram каналы, что существенно экономит время.
- **Удобство использования**: Приложение предоставляет пошаговую инструкцию для настройки и запуска, делая процесс простым и понятным даже для начинающих пользователей.

## Инструкция

### Установка Python

1. Скачайте и установите Python с официального сайта: [Python Downloads](https://www.python.org/downloads/).

### Установка виртуального окружения

1. Находясь в файле проекта создайте виртуальное окружение с помощью venv:

   ```bash
   python -m venv .venv
   ```

2. Активируйте виртуальное окружение:

   - На Windows:

     ```bash
     .\.venv\Scripts\activate
     ```

   - На macOS/Linux:

     ```bash
     source .venv/bin/activate
     ```

### Установка необходимых библиотек

1. Находясь в виртуальном окружении установите необходимые библиотеки, указанные в файле `requirements.txt`:

   ```bash
   pip install -r requirements.txt
   ```

### Настройка API ID и API Hash для User Bot

1. Перейдите на [my.telegram.org](https://my.telegram.org/auth) и создайте новое приложение, чтобы получить ваш API ID и API Hash.
2. Откройте файл `config.py` и замените строки с `api_id` и `api_hash` на ваши данные:

   ```python
   api_id = 'YOUR_API_ID'
   api_hash = 'YOUR_API_HASH'
   ```

### Подтверждение сессий для Pyrogram

При первом запуске вам потребуется подтвердить сессии для Pyrogram. Поскольку у нас 2 сессии, подтвердите их по очереди, введя код, отправленный на ваш Telegram аккаунт.
Теперь ваше приложение готово к использованию! Следуйте инструкциям в консоли для выбора каналов и настроек перед запуском.

### Запуск программы

Для удобства запуска, можно использовать `MediaTransferTG.bat`

### Пошаговая инструкция пользователя:
После запуска программы нас встречает пользовательский интерфейс в виде консольго приложения
#### 1. Вводим свой канал (Канал куда мы будем выгружать медиа с других каналов и в котором у нас есть доступ к чату)
   
```cmd
Введите @название канала: @Mychannel
```

#### 2. Выбираем из списка канал из которого мы будем выгружать видео (Этот список генерируется автоматически)

```cmd
Загружаем в “@Mychannel” ->

Выберите канал для загрузки:
1. Канал Для Копирования
2. Кружок вышивания
3. Каршеринг в Москве
Введите номер канала: 2
```

#### 3. Вводим максимальный размер файла в мегабайтах

```cmd
Загружаем в “@Mychannel” из “Кружок вышивания” ->

Введите максимальный размер файла (MB): 10
```

#### 4. Выбираем опцию загрузки (Какая функция за что отвечает написал ниже.)

```cmd
Загружаем в “@Mychannel” из “Кружок вышивания” все видео до 10 мб ->

Выберите опцию:
1. Загрузка + Выгрузка (Загрузка и моментальная выгрузка с последующим удалением)
2. Только Загрузка (Только загрузка в папку media)
3. Только Выгрузка (Только вызрузка из папки media с последующим удалением)
Введите номер опции: 3
```

#### 5. На этом этапе процесс загрузки уже должен начаться, проверьте папку `media` на создания файлов `.temp`

```cmd
⚫ Загружаем в “@Mychannel” из “Кружок вышивания” все видео до 10 мб в режиме “Загузка + Выгрузка” 

*Если видео не выгружаются:
Проверьте правильно ли написано название канала пример @test_channel;
Убедитесь что вы стототе в этом канале;
Убедитесь что там есть видео этого размера.
```
